.shell{height:100dvh;height:100vh;display:grid;grid-template-rows:auto 1fr}
.topBar{position:relative;z-index:40;padding:calc(var(--safe-top) + 6px) 14px 6px;background:rgba(7,7,10,.65);backdrop-filter:blur(16px);border-bottom:1px solid rgba(255,255,255,.08)}
.topBar__inner{display:flex;align-items:center;justify-content:space-between;gap:12px}
.topBar__title{background:none;border:none;color:var(--text);font-size:var(--fs-4);font-weight:700;letter-spacing:-0.02em;cursor:pointer}
.topBar__actions{display:flex;align-items:center;gap:8px}
.topBar__btn{height:30px;padding:0 12px;border-radius:999px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.06);color:var(--text);cursor:pointer;font-size:var(--fs-2)}
.topBar__btn--primary{border-color:rgba(168,85,247,.45);background:rgba(168,85,247,.22)}
.topBar__link{background:none;border:none;color:var(--text);cursor:pointer;font-size:var(--fs-2);padding:0}
.topBar__user{font-size:var(--fs-2);color:var(--text)}
.topBar__hint{font-size:var(--fs-2);color:var(--muted)}
.stage{position:relative;height:100%;overflow:hidden}

.bottomNav{position:absolute;left:0;right:0;bottom:0;padding:10px 12px calc(10px + var(--safe-bot));display:flex;justify-content:center;pointer-events:none}
.bottomNav__rail{pointer-events:auto;display:flex;gap:10px;padding:10px 12px;border-radius:999px;background:rgba(0,0,0,.40);border:1px solid rgba(255,255,255,.12);backdrop-filter:blur(14px);box-shadow:var(--shadow-2)}
.iconBtn{width:44px;height:44px;border-radius:999px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.06);color:var(--text);display:grid;place-items:center;cursor:pointer;transition:transform .12s ease, background .12s ease, border-color .12s ease}
.iconBtn:active{transform:scale(.97)}
.iconBtn--active{background:rgba(168,85,247,.22);border-color:rgba(168,85,247,.35)}

.river{height:100%;overflow:auto;scroll-snap-type:y mandatory;overscroll-behavior-y:contain}
.river__pad{padding:calc(var(--safe-top) + 10px) 14px calc(110px + var(--safe-bot));display:flex;flex-direction:column;gap:14px}
.riverCard{scroll-snap-align:start;border-radius:var(--r-4);overflow:hidden;min-height:min(82vh,720px);position:relative;box-shadow:var(--shadow-2);border:1px solid rgba(255,255,255,.08);background:#0b0b10}
.riverCard__media{position:absolute;inset:0;background:radial-gradient(1200px 600px at 20% 0%, rgba(168,85,247,.20), transparent 55%),radial-gradient(900px 700px at 90% 10%, rgba(34,197,94,.14), transparent 60%),#101018}
.riverCard__img{width:100%;height:100%;object-fit:cover;transform:scale(1.02);filter:saturate(1.06) contrast(1.05)}
.riverCard__scrim{position:absolute;inset:0;background:linear-gradient(180deg, rgba(0,0,0,.25) 0%, rgba(0,0,0,.10) 35%, rgba(0,0,0,.45) 70%, rgba(0,0,0,.66) 100%)}
.riverCard__meta{position:absolute;left:0;right:0;bottom:0;padding:18px 16px 16px;display:flex;flex-direction:column;gap:12px}
.riverCard__name{display:flex;align-items:flex-end;gap:10px}
.riverCard__name h2{margin:0;font-size:34px;line-height:1.0;letter-spacing:-0.03em;text-shadow:0 6px 18px rgba(0,0,0,.55)}
.riverCard__name span{font-size:18px;color:rgba(255,255,255,.80);text-shadow:0 6px 18px rgba(0,0,0,.55)}
.riverCard__chips{display:flex;flex-wrap:wrap;gap:8px}
.riverCard__actions{display:flex;gap:12px;align-items:center}
.actionBar{display:flex;gap:12px;align-items:center;width:100%}
.actionBtn{flex:1;height:52px;border-radius:16px;border:1px solid rgba(255,255,255,.12);background:rgba(0,0,0,.35);backdrop-filter:blur(12px);color:var(--text);display:flex;align-items:center;justify-content:center;gap:10px;cursor:pointer;transition:transform .12s ease, border-color .12s ease, background .12s ease}
.actionBtn:active{transform:scale(.99)}
.actionBtn--like{border-color:rgba(34,197,94,.25)}
.actionBtn--nope{border-color:rgba(251,113,133,.25)}
.actionBtn--rate{border-color:rgba(168,85,247,.25)}
.actionBtn--active{background:rgba(255,255,255,.10);border-color:rgba(255,255,255,.35)}
.actionBtn--like.actionBtn--active{background:rgba(34,197,94,.18);border-color:rgba(34,197,94,.65)}
.actionBtn--nope.actionBtn--active{background:rgba(251,113,133,.18);border-color:rgba(251,113,133,.65)}
.actionBtn--rate.actionBtn--active{background:rgba(168,85,247,.18);border-color:rgba(168,85,247,.65)}
.actionBtn__icon{width:18px;height:18px;display:block}
.inlineField{display:flex;flex-direction:column;gap:8px}
.inlineField__labelRow{display:flex;align-items:center;justify-content:space-between;gap:12px}
.inlineField__label{font-size:var(--fs-2);color:var(--muted);text-transform:uppercase;letter-spacing:0.08em}
.inlineField__status{font-size:var(--fs-1);color:var(--muted)}
.inlineField__status--error{color:rgba(251,113,133,.9)}
.inlineField__input{height:46px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(0,0,0,.20);color:var(--text);padding:0 12px;font-size:var(--fs-3)}
.inlineField__input:focus{outline:none;border-color:rgba(168,85,247,.55);box-shadow:0 0 0 2px rgba(168,85,247,.2)}
.inlineField__hint{font-size:var(--fs-1);color:var(--muted)}
.inlineField__grid{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(180px,1fr))}
.inlineChips{display:flex;flex-wrap:wrap;gap:8px}
.inlineChip{border-radius:999px;border:1px solid rgba(255,255,255,.12);background:rgba(0,0,0,.28);color:var(--text);padding:6px 12px;font-size:var(--fs-2);cursor:pointer}
.inlineChip--active{border-color:rgba(168,85,247,.45);background:rgba(168,85,247,.22)}
.smartTextarea{position:relative}
.smartTextarea__input{min-height:110px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(0,0,0,.20);color:var(--text);padding:10px 12px;font-size:var(--fs-3);outline:none;white-space:pre-wrap}
.smartTextarea__input:focus{border-color:rgba(168,85,247,.55);box-shadow:0 0 0 2px rgba(168,85,247,.2)}
.smartTextarea__input:empty:before{content:attr(data-placeholder);color:var(--muted)}
.smartTextarea__counter{position:absolute;right:10px;bottom:8px;font-size:var(--fs-1);color:var(--muted)}
.smartTextarea--disabled .smartTextarea__input{opacity:.6;pointer-events:none}

.profile{height:100%;overflow:auto;overscroll-behavior-y:contain}
.profile__hero{position:relative;height:62vh;min-height:420px;border-bottom-left-radius:var(--r-4);border-bottom-right-radius:var(--r-4);overflow:hidden;border:1px solid rgba(255,255,255,.08);box-shadow:var(--shadow-2);background:#0f0f16}
.profile__heroFallback{position:absolute;inset:0;background:radial-gradient(900px 500px at 20% 0%, rgba(168,85,247,.24), transparent 55%),radial-gradient(700px 600px at 90% 10%, rgba(34,197,94,.18), transparent 60%),#0f0f16}
.profile__heroMedia{position:absolute;inset:0;display:grid;grid-template-columns:repeat(8,minmax(0,1fr));grid-template-rows:repeat(6,minmax(0,1fr));gap:10px;padding:10px}
.heroMosaic__tile{position:relative;overflow:hidden;border-radius:18px;border:1px solid rgba(255,255,255,.14);background:rgba(8,8,14,.68);box-shadow:0 18px 36px rgba(0,0,0,.35)}
.heroMosaic__tile::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg, rgba(0,0,0,.18), rgba(0,0,0,0) 40%, rgba(0,0,0,.24));pointer-events:none}
.heroMosaic__tile--empty{background:radial-gradient(120px 80px at 20% 15%, rgba(168,85,247,.22), transparent 60%),radial-gradient(160px 120px at 80% 10%, rgba(34,197,94,.18), transparent 60%),rgba(12,12,18,.85)}
.heroMosaic__media{width:100%;height:100%;object-fit:cover;transform:scale(1.02);filter:saturate(1.06) contrast(1.04)}
.heroMosaic__badge{position:absolute;right:10px;bottom:10px;padding:4px 8px;border-radius:999px;background:rgba(0,0,0,.45);border:1px solid rgba(255,255,255,.18);font-size:var(--fs-1);letter-spacing:0.02em}
.heroMosaic__tile--a{grid-column:1 / span 5;grid-row:1 / span 4}
.heroMosaic__tile--b{grid-column:6 / span 3;grid-row:1 / span 3}
.heroMosaic__tile--c{grid-column:6 / span 3;grid-row:4 / span 2}
.heroMosaic__tile--d{grid-column:1 / span 3;grid-row:5 / span 2}
.heroMosaic__tile--e{grid-column:4 / span 2;grid-row:5 / span 2}
.heroMosaic__tile--f{grid-column:6 / span 3;grid-row:6 / span 1}
.profile__heroScrim{position:absolute;inset:0;background:linear-gradient(180deg, rgba(0,0,0,.40), rgba(0,0,0,.10) 35%, rgba(0,0,0,.60))}
@media (max-width: 720px){
.profile__hero{min-height:360px}
.profile__heroMedia{grid-template-columns:repeat(4,minmax(0,1fr));grid-template-rows:repeat(8,minmax(0,1fr));gap:8px;padding:8px}
.heroMosaic__tile--a{grid-column:1 / span 4;grid-row:1 / span 3}
.heroMosaic__tile--b{grid-column:1 / span 2;grid-row:4 / span 2}
.heroMosaic__tile--c{grid-column:3 / span 2;grid-row:4 / span 2}
.heroMosaic__tile--d{grid-column:1 / span 2;grid-row:6 / span 2}
.heroMosaic__tile--e{grid-column:3 / span 2;grid-row:6 / span 2}
.heroMosaic__tile--f{grid-column:1 / span 4;grid-row:8 / span 1}
}
.profile__topBar{position:absolute;top:calc(10px + var(--safe-top));left:12px;right:12px;display:flex;justify-content:space-between;align-items:center}
.profile__sheet{padding:16px 14px calc(110px + var(--safe-bot));display:flex;flex-direction:column;gap:14px}
.profile__card{border-radius:var(--r-4);padding:14px}
.mediaRail{display:flex;gap:12px;overflow:auto;padding-bottom:2px;scroll-snap-type:x mandatory}
.mediaThumb{width:140px;height:190px;border-radius:18px;overflow:hidden;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.06);scroll-snap-align:start;box-shadow:var(--shadow-1)}
.mediaThumb img,.mediaThumb video{width:100%;height:100%;object-fit:cover}

.inbox{height:100%;overflow:auto;overscroll-behavior-y:contain}
.inbox__pad{padding:calc(var(--safe-top) + 16px) 14px calc(110px + var(--safe-bot))}
.inbox__list{display:flex;flex-direction:column;gap:10px}
.inboxItem{display:flex;align-items:center;gap:12px;padding:14px;border-radius:16px;border:1px solid rgba(255,255,255,.10);background:rgba(0,0,0,.28);color:var(--text);cursor:pointer;text-align:left}
.inboxItem__main{flex:1;display:flex;flex-direction:column;gap:6px}
.inboxItem__title{display:flex;align-items:center;justify-content:space-between;font-size:var(--fs-3);font-weight:600}
.inboxItem__preview{color:var(--muted);font-size:var(--fs-2)}
.inboxItem__time{color:var(--muted);font-size:var(--fs-1)}
.inboxItem__badge{min-width:22px;height:22px;border-radius:999px;background:rgba(168,85,247,.28);border:1px solid rgba(168,85,247,.55);display:grid;place-items:center;font-size:var(--fs-1);font-weight:700}

.avatar{width:44px;height:44px;border-radius:999px;display:grid;place-items:center;font-weight:700;letter-spacing:0.02em;text-transform:uppercase;background:hsl(var(--avatar-hue) 45% 32%);border:1px solid rgba(255,255,255,.18);color:rgba(255,255,255,.9)}
.avatar--image{background:rgba(255,255,255,.08);padding:2px}
.avatar img{width:100%;height:100%;border-radius:999px;object-fit:cover}
.avatar--sm{width:36px;height:36px;font-size:var(--fs-2)}
.avatar--md{width:44px;height:44px;font-size:var(--fs-3)}
.avatar--lg{width:54px;height:54px;font-size:var(--fs-4)}

.matches{height:100%;overflow:auto;overscroll-behavior-y:contain}
.matches__pad{padding:calc(var(--safe-top) + 16px) 14px calc(110px + var(--safe-bot))}
.matches__list{display:flex;flex-direction:column;gap:12px}
.matchItem{display:flex;align-items:center;gap:12px;padding:14px;border-radius:18px;border:1px solid rgba(255,255,255,.10);background:rgba(0,0,0,.28)}
.matchItem__main{flex:1;display:flex;flex-direction:column;gap:6px}
.matchItem__title{display:flex;align-items:center;justify-content:space-between;font-size:var(--fs-3);font-weight:700}
.matchItem__meta{display:flex;gap:10px;flex-wrap:wrap;color:var(--muted);font-size:var(--fs-2)}
.matchItem__time{color:var(--muted);font-size:var(--fs-1)}
.matchItem__cta{min-width:92px}

.conversation{height:100%;display:flex;flex-direction:column}
.conversation__header{display:flex;align-items:center;justify-content:space-between;padding:calc(var(--safe-top) + 8px) 12px 8px;border-bottom:1px solid rgba(255,255,255,.08);background:rgba(7,7,10,.65);backdrop-filter:blur(16px)}
.conversation__title{display:flex;align-items:center;gap:10px;font-size:var(--fs-4);font-weight:700}
.conversation__titleText{display:flex;flex-direction:column;align-items:flex-start;gap:2px}
.conversation__meta{font-size:var(--fs-1);color:var(--muted);font-weight:500}
.conversation__body{flex:1;overflow:auto;padding:16px 14px;display:flex;flex-direction:column;gap:12px}
.conversation__list{display:flex;flex-direction:column;gap:10px}
.conversation__composer{display:flex;gap:10px;padding:10px 12px calc(10px + var(--safe-bot));border-top:1px solid rgba(255,255,255,.08);background:rgba(7,7,10,.65);backdrop-filter:blur(16px)}
.conversation__error{padding:6px 12px calc(6px + var(--safe-bot));color:rgba(251,113,133,.9);font-size:var(--fs-2);text-align:center;background:rgba(7,7,10,.65);backdrop-filter:blur(16px)}
.conversation__input{flex:1}
.conversation__more{align-self:center;width:180px}
.message{display:flex;flex-direction:column;gap:6px;max-width:80%}
.message--mine{align-self:flex-end;text-align:right}
.message__bubble{padding:10px 12px;border-radius:16px;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.10)}
.message--mine .message__bubble{background:rgba(34,197,94,.18);border-color:rgba(34,197,94,.35)}
.message__time{font-size:var(--fs-1);color:var(--muted)}

.quiz{height:100%;overflow:auto;overscroll-behavior-y:contain}
.quiz__pad{padding:calc(var(--safe-top) + 16px) 14px calc(110px + var(--safe-bot))}
.quiz__card{border-radius:var(--r-4)}
.quiz__meta{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.quiz__title{font-size:var(--fs-4);font-weight:700}
.quiz__progress{font-size:var(--fs-2);color:var(--muted)}
.quiz__prompt{font-size:var(--fs-4);line-height:1.4;margin-bottom:16px}
.quiz__options{display:grid;gap:10px}
.quiz__option{padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:rgba(0,0,0,.35);color:var(--text);text-align:left;cursor:pointer}
.quiz__option--active{border-color:rgba(168,85,247,.55);background:rgba(168,85,247,.22)}
.quiz__actions{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-top:16px;flex-wrap:wrap}
.quiz__nav{display:flex;gap:10px;flex-wrap:wrap}

.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:50}
.modal__backdrop{position:absolute;inset:0;background:rgba(3,3,8,.72);backdrop-filter:blur(6px)}
.modal__panel{position:relative;width:min(520px,92vw);background:rgba(15,15,25,.95);border:1px solid rgba(255,255,255,.12);border-radius:var(--r-4);padding:18px;box-shadow:var(--shadow-2)}
.modal__header{display:flex;flex-direction:column;gap:6px;margin-bottom:14px}
.modal__body{display:flex;flex-direction:column;gap:12px}
.modal__actions{display:flex;gap:12px;margin-top:16px}

.ratingRow{display:flex;align-items:center;justify-content:space-between;gap:12px}
.ratingLabel{font-size:var(--fs-3);color:var(--text)}
.ratingButtons{display:flex;gap:8px}
.ratingBtn{width:36px;height:36px;border-radius:10px;border:1px solid rgba(255,255,255,.16);background:rgba(255,255,255,.06);color:var(--text);cursor:pointer}
.ratingBtn--active{border-color:rgba(168,85,247,.55);background:rgba(168,85,247,.25)}

.srOnly{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
