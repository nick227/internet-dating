{
  "openapi": "3.0.0",
  "info": {
    "title": "internet-date API",
    "version": "0.0.1"
  },
  "paths": {
    "/api/meta": {
      "get": {
        "tags": [
          "system"
        ],
        "summary": "API meta",
        "security": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MetaResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/signup": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Create a user and issue auth cookies",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthSignupBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthSignupResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/login": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Verify credentials and issue auth cookies",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthLoginBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthLoginResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/refresh": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Refresh access token",
        "security": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OkResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/logout": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Clear auth cookies",
        "security": [
          {
            "session": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OkResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/me": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Return current user id",
        "security": [
          {
            "session": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthMeResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/feed": {
      "get": {
        "tags": [
          "feed"
        ],
        "summary": "Homepage feed (posts + match suggestions)",
        "security": [],
        "parameters": [
          {
            "name": "cursorId",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          },
          {
            "name": "take",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/posts": {
      "post": {
        "tags": [
          "feed"
        ],
        "summary": "Create post",
        "security": [
          {
            "session": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostCreateBody"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostCreateResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/posts/{postId}": {
      "patch": {
        "tags": [
          "feed"
        ],
        "summary": "Update post",
        "security": [
          {
            "session": []
          }
        ],
        "parameters": [
          {
            "name": "postId",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PostPatchBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PostPatchResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/posts/{postId}/save": {
      "post": {
        "tags": [
          "feed"
        ],
        "summary": "Save post",
        "security": [
          {
            "session": []
          }
        ],
        "parameters": [
          {
            "name": "postId",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OkResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/profiles/{userId}": {
      "get": {
        "tags": [
          "profiles"
        ],
        "summary": "Get profile",
        "security": [],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfileResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "profiles"
        ],
        "summary": "Update own profile",
        "security": [
          {
            "session": []
          }
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProfilePatchBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfilePatchResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/profiles/{userId}/access-requests": {
      "post": {
        "tags": [
          "profiles"
        ],
        "summary": "Request access to private profile content",
        "security": [
          {
            "session": []
          }
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfileAccessResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/profiles/{userId}/access-grants": {
      "post": {
        "tags": [
          "profiles"
        ],
        "summary": "Grant access to private profile content",
        "security": [
          {
            "session": []
          }
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProfileAccessGrantBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfileAccessResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/profiles/{userId}/rate": {
      "post": {
        "tags": [
          "profiles"
        ],
        "summary": "Rate profile",
        "security": [
          {
            "session": []
          }
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RateBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OkResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/likes": {
      "post": {
        "tags": [
          "matches"
        ],
        "summary": "Like / pass",
        "security": [
          {
            "session": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SwipeBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SwipeResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/matches": {
      "get": {
        "tags": [
          "matches"
        ],
        "summary": "List matches",
        "security": [
          {
            "session": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MatchListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/inbox": {
      "get": {
        "tags": [
          "messaging"
        ],
        "summary": "Inbox list",
        "security": [
          {
            "session": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InboxResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversationId}": {
      "get": {
        "tags": [
          "messaging"
        ],
        "summary": "Get conversation",
        "security": [
          {
            "session": []
          }
        ],
        "parameters": [
          {
            "name": "conversationId",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          },
          {
            "name": "cursorId",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          },
          {
            "name": "take",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/conversations/{conversationId}/messages": {
      "post": {
        "tags": [
          "messaging"
        ],
        "summary": "Send message",
        "security": [
          {
            "session": []
          }
        ],
        "parameters": [
          {
            "name": "conversationId",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MessageSendBody"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageSendResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/messages/{messageId}/read": {
      "post": {
        "tags": [
          "messaging"
        ],
        "summary": "Mark read",
        "security": [
          {
            "session": []
          }
        ],
        "parameters": [
          {
            "name": "messageId",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OkResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/quizzes/active": {
      "get": {
        "tags": [
          "quizzes"
        ],
        "summary": "Get active quiz",
        "security": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuizResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/quizzes/{quizId}/submit": {
      "post": {
        "tags": [
          "quizzes"
        ],
        "summary": "Submit quiz",
        "security": [
          {
            "session": []
          }
        ],
        "parameters": [
          {
            "name": "quizId",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QuizSubmitBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OkResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/quizzes/{quizId}": {
      "patch": {
        "tags": [
          "quizzes"
        ],
        "summary": "Update quiz",
        "security": [
          {
            "session": []
          }
        ],
        "parameters": [
          {
            "name": "quizId",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QuizUpdateBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuizUpdateResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/quizzes/{quizId}/questions/{questionId}": {
      "patch": {
        "tags": [
          "quizzes"
        ],
        "summary": "Update quiz question",
        "security": [
          {
            "session": []
          }
        ],
        "parameters": [
          {
            "name": "quizId",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          },
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QuizQuestionPatchBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuizQuestionPatchResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/quizzes/{quizId}/questions/{questionId}/options/{optionId}": {
      "patch": {
        "tags": [
          "quizzes"
        ],
        "summary": "Update quiz option",
        "security": [
          {
            "session": []
          }
        ],
        "parameters": [
          {
            "name": "quizId",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          },
          {
            "name": "questionId",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          },
          {
            "name": "optionId",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QuizOptionPatchBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuizOptionPatchResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/{userId}/block": {
      "post": {
        "tags": [
          "safety"
        ],
        "summary": "Block user",
        "security": [
          {
            "session": []
          }
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OkResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/{userId}/report": {
      "post": {
        "tags": [
          "safety"
        ],
        "summary": "Report user",
        "security": [
          {
            "session": []
          }
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReportBody"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OkResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/media/upload": {
      "post": {
        "tags": [
          "media"
        ],
        "summary": "Upload media",
        "security": [
          {
            "session": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/MediaUploadBody"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MediaUploadResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/media/{mediaId}": {
      "get": {
        "tags": [
          "media"
        ],
        "summary": "Get media",
        "security": [],
        "parameters": [
          {
            "name": "mediaId",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MediaResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Id": {
        "type": "string",
        "pattern": "^\\d+$"
      },
      "OkResponse": {
        "type": "object",
        "properties": {
          "ok": {
            "type": "boolean"
          }
        },
        "required": [
          "ok"
        ]
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string"
          }
        },
        "required": [
          "error"
        ]
      },
      "MetaResponse": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "version": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "version"
        ]
      },
      "AuthSignupBody": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        },
        "required": [
          "email",
          "password"
        ]
      },
      "AuthSignupResponse": {
        "type": "object",
        "properties": {
          "userId": {
            "$ref": "#/components/schemas/Id"
          },
          "email": {
            "type": "string"
          }
        },
        "required": [
          "userId",
          "email"
        ]
      },
      "AuthLoginBody": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        },
        "required": [
          "email",
          "password"
        ]
      },
      "AuthLoginResponse": {
        "type": "object",
        "properties": {
          "userId": {
            "$ref": "#/components/schemas/Id"
          }
        },
        "required": [
          "userId"
        ]
      },
      "AuthMeResponse": {
        "type": "object",
        "properties": {
          "userId": {
            "$ref": "#/components/schemas/Id"
          }
        },
        "required": [
          "userId"
        ]
      },
      "Visibility": {
        "type": "string",
        "enum": [
          "PUBLIC",
          "PRIVATE"
        ]
      },
      "AccessStatus": {
        "type": "string",
        "enum": [
          "NONE",
          "PENDING",
          "GRANTED"
        ]
      },
      "MediaType": {
        "type": "string",
        "enum": [
          "IMAGE",
          "VIDEO"
        ]
      },
      "MediaStatus": {
        "type": "string",
        "enum": [
          "PENDING",
          "READY",
          "FAILED"
        ]
      },
      "Gender": {
        "type": "string",
        "enum": [
          "UNSPECIFIED",
          "MALE",
          "FEMALE",
          "NONBINARY",
          "OTHER"
        ]
      },
      "DatingIntent": {
        "type": "string",
        "enum": [
          "UNSPECIFIED",
          "FRIENDS",
          "CASUAL",
          "LONG_TERM",
          "MARRIAGE"
        ]
      },
      "MatchState": {
        "type": "string",
        "enum": [
          "ACTIVE",
          "BLOCKED",
          "CLOSED"
        ]
      },
      "SwipeAction": {
        "type": "string",
        "enum": [
          "LIKE",
          "DISLIKE"
        ]
      },
      "ReportReason": {
        "type": "string",
        "enum": [
          "SPAM",
          "HARASSMENT",
          "IMPERSONATION",
          "NUDITY",
          "HATE",
          "OTHER"
        ]
      },
      "Media": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "#/components/schemas/Id"
          },
          "type": {
            "$ref": "#/components/schemas/MediaType"
          },
          "url": {
            "type": "string"
          },
          "thumbUrl": {
            "type": [
              "string",
              "null"
            ]
          },
          "width": {
            "type": [
              "number",
              "null"
            ]
          },
          "height": {
            "type": [
              "number",
              "null"
            ]
          },
          "durationSec": {
            "type": [
              "number",
              "null"
            ]
          }
        },
        "required": [
          "id",
          "type",
          "url"
        ]
      },
      "MediaUrls": {
        "type": "object",
        "properties": {
          "original": {
            "type": "string"
          },
          "thumb": {
            "type": [
              "string",
              "null"
            ]
          }
        },
        "required": [
          "original"
        ]
      },
      "MediaUploadResponse": {
        "type": "object",
        "properties": {
          "mediaId": {
            "$ref": "#/components/schemas/Id"
          },
          "status": {
            "$ref": "#/components/schemas/MediaStatus"
          },
          "mimeType": {
            "type": "string"
          },
          "urls": {
            "$ref": "#/components/schemas/MediaUrls"
          }
        },
        "required": [
          "mediaId",
          "status",
          "mimeType",
          "urls"
        ]
      },
      "MediaResponse": {
        "type": "object",
        "properties": {
          "mediaId": {
            "$ref": "#/components/schemas/Id"
          },
          "status": {
            "$ref": "#/components/schemas/MediaStatus"
          },
          "mimeType": {
            "type": [
              "string",
              "null"
            ]
          },
          "sizeBytes": {
            "type": [
              "number",
              "null"
            ]
          },
          "width": {
            "type": [
              "number",
              "null"
            ]
          },
          "height": {
            "type": [
              "number",
              "null"
            ]
          },
          "durationSec": {
            "type": [
              "number",
              "null"
            ]
          },
          "urls": {
            "$ref": "#/components/schemas/MediaUrls"
          }
        },
        "required": [
          "mediaId",
          "status",
          "urls"
        ]
      },
      "MediaUploadBody": {
        "type": "object",
        "properties": {
          "file": {
            "type": "string",
            "format": "binary"
          }
        },
        "required": [
          "file"
        ]
      },
      "PostMedia": {
        "type": "object",
        "properties": {
          "order": {
            "type": "number"
          },
          "media": {
            "$ref": "#/components/schemas/Media"
          }
        },
        "required": [
          "order",
          "media"
        ]
      },
      "FeedPost": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "#/components/schemas/Id"
          },
          "text": {
            "type": [
              "string",
              "null"
            ]
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "user": {
            "type": "object",
            "properties": {
              "id": {
                "$ref": "#/components/schemas/Id"
              },
              "profile": {
                "type": [
                  "object",
                  "null"
                ],
                "properties": {
                  "displayName": {
                    "type": [
                      "string",
                      "null"
                    ]
                  }
                }
              }
            },
            "required": [
              "id"
            ]
          },
          "media": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PostMedia"
            }
          }
        },
        "required": [
          "id",
          "createdAt",
          "user",
          "media"
        ]
      },
      "FeedSuggestion": {
        "type": "object",
        "properties": {
          "userId": {
            "$ref": "#/components/schemas/Id"
          },
          "displayName": {
            "type": [
              "string",
              "null"
            ]
          },
          "bio": {
            "type": [
              "string",
              "null"
            ]
          },
          "locationText": {
            "type": [
              "string",
              "null"
            ]
          },
          "intent": {
            "type": [
              "string",
              "null"
            ]
          }
        },
        "required": [
          "userId"
        ]
      },
      "FeedResponse": {
        "type": "object",
        "properties": {
          "posts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FeedPost"
            }
          },
          "suggestions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FeedSuggestion"
            }
          },
          "nextCursorId": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Id"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "posts",
          "suggestions",
          "nextCursorId"
        ]
      },
      "PostCreateBody": {
        "type": "object",
        "properties": {
          "text": {
            "type": [
              "string",
              "null"
            ]
          },
          "visibility": {
            "$ref": "#/components/schemas/Visibility"
          },
          "mediaIds": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Id"
            }
          }
        }
      },
      "PostCreateResponse": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "#/components/schemas/Id"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "createdAt"
        ]
      },
      "PostPatchBody": {
        "type": "object",
        "properties": {
          "text": {
            "type": [
              "string",
              "null"
            ]
          },
          "visibility": {
            "$ref": "#/components/schemas/Visibility"
          }
        }
      },
      "PostPatchResponse": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "#/components/schemas/Id"
          },
          "text": {
            "type": [
              "string",
              "null"
            ]
          },
          "visibility": {
            "$ref": "#/components/schemas/Visibility"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "visibility",
          "updatedAt"
        ]
      },
      "ProfileTop5Item": {
        "type": "object",
        "properties": {
          "order": {
            "type": "number"
          },
          "text": {
            "type": "string"
          }
        },
        "required": [
          "order",
          "text"
        ]
      },
      "ProfileTop5List": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "#/components/schemas/Id"
          },
          "title": {
            "type": "string"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProfileTop5Item"
            }
          }
        },
        "required": [
          "id",
          "title",
          "updatedAt",
          "items"
        ]
      },
      "Profile": {
        "type": "object",
        "properties": {
          "userId": {
            "$ref": "#/components/schemas/Id"
          },
          "displayName": {
            "type": [
              "string",
              "null"
            ]
          },
          "bio": {
            "type": [
              "string",
              "null"
            ]
          },
          "birthdate": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          },
          "locationText": {
            "type": [
              "string",
              "null"
            ]
          },
          "gender": {
            "type": [
              "string",
              "null"
            ]
          },
          "intent": {
            "type": [
              "string",
              "null"
            ]
          },
          "avatarUrl": {
            "type": [
              "string",
              "null"
            ]
          },
          "heroUrl": {
            "type": [
              "string",
              "null"
            ]
          },
          "isVisible": {
            "type": "boolean"
          },
          "top5Lists": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProfileTop5List"
            }
          }
        },
        "required": [
          "userId",
          "isVisible",
          "top5Lists"
        ]
      },
      "ProfilePost": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "#/components/schemas/Id"
          },
          "visibility": {
            "$ref": "#/components/schemas/Visibility"
          },
          "text": {
            "type": [
              "string",
              "null"
            ]
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "media": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PostMedia"
            }
          }
        },
        "required": [
          "id",
          "visibility",
          "createdAt",
          "media"
        ]
      },
      "ProfileAccessInfo": {
        "type": "object",
        "properties": {
          "status": {
            "$ref": "#/components/schemas/AccessStatus"
          },
          "requestId": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Id"
              },
              {
                "type": "null"
              }
            ]
          },
          "hasPrivatePosts": {
            "type": "boolean"
          },
          "hasPrivateMedia": {
            "type": "boolean"
          }
        },
        "required": [
          "status",
          "hasPrivatePosts",
          "hasPrivateMedia"
        ]
      },
      "ProfileRatingAvg": {
        "type": "object",
        "properties": {
          "attractive": {
            "type": [
              "number",
              "null"
            ]
          },
          "smart": {
            "type": [
              "number",
              "null"
            ]
          },
          "funny": {
            "type": [
              "number",
              "null"
            ]
          },
          "interesting": {
            "type": [
              "number",
              "null"
            ]
          }
        }
      },
      "ProfileRatingMine": {
        "type": "object",
        "properties": {
          "attractive": {
            "type": "number"
          },
          "smart": {
            "type": "number"
          },
          "funny": {
            "type": "number"
          },
          "interesting": {
            "type": "number"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "attractive",
          "smart",
          "funny",
          "interesting",
          "createdAt"
        ]
      },
      "ProfileRatings": {
        "type": "object",
        "properties": {
          "count": {
            "type": "number"
          },
          "avg": {
            "$ref": "#/components/schemas/ProfileRatingAvg"
          },
          "mine": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ProfileRatingMine"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "count",
          "avg",
          "mine"
        ]
      },
      "ProfileResponse": {
        "type": "object",
        "properties": {
          "profile": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Profile"
              },
              {
                "type": "null"
              }
            ]
          },
          "posts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProfilePost"
            }
          },
          "access": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ProfileAccessInfo"
              },
              {
                "type": "null"
              }
            ]
          },
          "ratings": {
            "$ref": "#/components/schemas/ProfileRatings"
          }
        },
        "required": [
          "profile",
          "posts",
          "access",
          "ratings"
        ]
      },
      "ProfileAccessGrantBody": {
        "type": "object",
        "properties": {
          "viewerUserId": {
            "$ref": "#/components/schemas/Id"
          }
        },
        "required": [
          "viewerUserId"
        ]
      },
      "ProfileAccessResponse": {
        "type": "object",
        "properties": {
          "status": {
            "$ref": "#/components/schemas/AccessStatus"
          },
          "requestId": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Id"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "status",
          "requestId"
        ]
      },
      "ProfilePatchBody": {
        "type": "object",
        "properties": {
          "displayName": {
            "type": [
              "string",
              "null"
            ]
          },
          "bio": {
            "type": [
              "string",
              "null"
            ]
          },
          "birthdate": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          },
          "locationText": {
            "type": [
              "string",
              "null"
            ]
          },
          "lat": {
            "type": [
              "number",
              "null"
            ]
          },
          "lng": {
            "type": [
              "number",
              "null"
            ]
          },
          "gender": {
            "$ref": "#/components/schemas/Gender"
          },
          "intent": {
            "$ref": "#/components/schemas/DatingIntent"
          },
          "isVisible": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "avatarMediaId": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Id"
              },
              {
                "type": "null"
              }
            ]
          },
          "heroMediaId": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Id"
              },
              {
                "type": "null"
              }
            ]
          }
        }
      },
      "ProfilePatchResponse": {
        "type": "object",
        "properties": {
          "userId": {
            "$ref": "#/components/schemas/Id"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "userId",
          "updatedAt"
        ]
      },
      "RateBody": {
        "type": "object",
        "properties": {
          "attractive": {
            "type": "number"
          },
          "smart": {
            "type": "number"
          },
          "funny": {
            "type": "number"
          },
          "interesting": {
            "type": "number"
          }
        },
        "required": [
          "attractive",
          "smart",
          "funny",
          "interesting"
        ]
      },
      "SwipeBody": {
        "type": "object",
        "properties": {
          "toUserId": {
            "$ref": "#/components/schemas/Id"
          },
          "action": {
            "$ref": "#/components/schemas/SwipeAction"
          }
        },
        "required": [
          "toUserId",
          "action"
        ]
      },
      "SwipeResponse": {
        "type": "object",
        "properties": {
          "ok": {
            "type": "boolean"
          },
          "matched": {
            "type": "boolean"
          },
          "matchId": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Id"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "ok"
        ]
      },
      "MatchUserProfile": {
        "type": "object",
        "properties": {
          "displayName": {
            "type": [
              "string",
              "null"
            ]
          },
          "locationText": {
            "type": [
              "string",
              "null"
            ]
          },
          "intent": {
            "type": [
              "string",
              "null"
            ]
          },
          "avatarUrl": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "MatchUser": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "#/components/schemas/Id"
          },
          "profile": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/MatchUserProfile"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "id"
        ]
      },
      "MatchItem": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "#/components/schemas/Id"
          },
          "userAId": {
            "$ref": "#/components/schemas/Id"
          },
          "userBId": {
            "$ref": "#/components/schemas/Id"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "conversation": {
            "anyOf": [
              {
                "type": "object",
                "properties": {
                  "id": {
                    "$ref": "#/components/schemas/Id"
                  }
                },
                "required": [
                  "id"
                ]
              },
              {
                "type": "null"
              }
            ]
          },
          "userA": {
            "$ref": "#/components/schemas/MatchUser"
          },
          "userB": {
            "$ref": "#/components/schemas/MatchUser"
          }
        },
        "required": [
          "id",
          "userAId",
          "userBId",
          "updatedAt",
          "userA",
          "userB"
        ]
      },
      "MatchListResponse": {
        "type": "object",
        "properties": {
          "matches": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MatchItem"
            }
          }
        },
        "required": [
          "matches"
        ]
      },
      "InboxUserProfile": {
        "type": "object",
        "properties": {
          "displayName": {
            "type": [
              "string",
              "null"
            ]
          },
          "avatarUrl": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "InboxUser": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "#/components/schemas/Id"
          },
          "profile": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/InboxUserProfile"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "id"
        ]
      },
      "InboxMessage": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "#/components/schemas/Id"
          },
          "body": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "senderId": {
            "$ref": "#/components/schemas/Id"
          }
        },
        "required": [
          "id",
          "body",
          "createdAt",
          "senderId"
        ]
      },
      "InboxConversation": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "#/components/schemas/Id"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "otherUser": {
            "$ref": "#/components/schemas/InboxUser"
          },
          "lastMessage": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/InboxMessage"
              },
              {
                "type": "null"
              }
            ]
          },
          "unreadCount": {
            "type": "number"
          }
        },
        "required": [
          "id",
          "updatedAt",
          "otherUser",
          "lastMessage",
          "unreadCount"
        ]
      },
      "InboxResponse": {
        "type": "object",
        "properties": {
          "conversations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/InboxConversation"
            }
          }
        },
        "required": [
          "conversations"
        ]
      },
      "MessageItem": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "#/components/schemas/Id"
          },
          "body": {
            "type": "string"
          },
          "senderId": {
            "$ref": "#/components/schemas/Id"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "body",
          "senderId",
          "createdAt"
        ]
      },
      "MessageListResponse": {
        "type": "object",
        "properties": {
          "conversationId": {
            "$ref": "#/components/schemas/Id"
          },
          "messages": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MessageItem"
            }
          },
          "nextCursorId": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Id"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "conversationId",
          "messages",
          "nextCursorId"
        ]
      },
      "MessageSendBody": {
        "type": "object",
        "properties": {
          "body": {
            "type": "string"
          }
        },
        "required": [
          "body"
        ]
      },
      "MessageSendResponse": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "#/components/schemas/Id"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "createdAt"
        ]
      },
      "QuizOption": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "#/components/schemas/Id"
          },
          "label": {
            "type": "string"
          },
          "value": {
            "type": "string"
          },
          "order": {
            "type": "number"
          }
        },
        "required": [
          "id",
          "label",
          "value",
          "order"
        ]
      },
      "QuizQuestion": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "#/components/schemas/Id"
          },
          "prompt": {
            "type": "string"
          },
          "order": {
            "type": "number"
          },
          "options": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QuizOption"
            }
          }
        },
        "required": [
          "id",
          "prompt",
          "order",
          "options"
        ]
      },
      "Quiz": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "#/components/schemas/Id"
          },
          "slug": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "questions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QuizQuestion"
            }
          }
        },
        "required": [
          "id",
          "slug",
          "title",
          "questions"
        ]
      },
      "QuizResponse": {
        "type": "object",
        "properties": {
          "quiz": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Quiz"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "quiz"
        ]
      },
      "QuizSubmitBody": {
        "type": "object",
        "properties": {
          "answers": {
            "type": "object",
            "additionalProperties": true
          },
          "scoreVec": {
            "type": [
              "object",
              "null"
            ],
            "additionalProperties": true
          }
        },
        "required": [
          "answers"
        ]
      },
      "QuizUpdateBody": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          }
        },
        "required": [
          "title"
        ]
      },
      "QuizUpdateResponse": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "#/components/schemas/Id"
          },
          "title": {
            "type": "string"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "id",
          "title",
          "updatedAt"
        ]
      },
      "QuizQuestionPatchBody": {
        "type": "object",
        "properties": {
          "prompt": {
            "type": "string"
          }
        },
        "required": [
          "prompt"
        ]
      },
      "QuizQuestionPatchResponse": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "#/components/schemas/Id"
          },
          "prompt": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "prompt"
        ]
      },
      "QuizOptionPatchBody": {
        "type": "object",
        "properties": {
          "label": {
            "type": "string"
          }
        },
        "required": [
          "label"
        ]
      },
      "QuizOptionPatchResponse": {
        "type": "object",
        "properties": {
          "id": {
            "$ref": "#/components/schemas/Id"
          },
          "label": {
            "type": "string"
          },
          "value": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "label",
          "value"
        ]
      },
      "ReportBody": {
        "type": "object",
        "properties": {
          "reason": {
            "$ref": "#/components/schemas/ReportReason"
          },
          "details": {
            "type": [
              "string",
              "null"
            ]
          }
        },
        "required": [
          "reason"
        ]
      }
    }
  }
}

