model PostStats {
  id            BigInt   @id @default(autoincrement())
  postId        BigInt   @unique
  likeCount     Int      @default(0)
  commentCount  Int      @default(0)
  lastLikeAt    DateTime?
  lastCommentAt DateTime?
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  post          Post     @relation(fields: [postId], references: [id], onDelete: Cascade)

  @@index([updatedAt])
}

model ProfileStats {
  id               BigInt   @id @default(autoincrement())
  profileId        BigInt   @unique
  likeCount        Int      @default(0)
  dislikeCount     Int      @default(0)
  ratingCount      Int      @default(0)
  ratingSums       Json?
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt

  profile          Profile  @relation(fields: [profileId], references: [id])

  @@index([updatedAt])
}
